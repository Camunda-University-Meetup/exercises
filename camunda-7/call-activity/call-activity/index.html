<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/exercises/blog/rss.xml" title="Camunda Exercises Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/exercises/blog/atom.xml" title="Camunda Exercises Blog Atom Feed"><title data-react-helmet="true">Order Process | Camunda Exercises</title><meta data-react-helmet="true" property="og:url" content="https://camunda-university-meetup.github.io/exercises/camunda-7/call-activity/call-activity"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Order Process | Camunda Exercises"><meta data-react-helmet="true" name="description" content="Your task is to divide the order process into different modules. The following reasons have led to the decision to restructure the process:"><meta data-react-helmet="true" property="og:description" content="Your task is to divide the order process into different modules. The following reasons have led to the decision to restructure the process:"><link data-react-helmet="true" rel="shortcut icon" href="/exercises/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://camunda-university-meetup.github.io/exercises/camunda-7/call-activity/call-activity"><link data-react-helmet="true" rel="alternate" href="https://camunda-university-meetup.github.io/exercises/camunda-7/call-activity/call-activity" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://camunda-university-meetup.github.io/exercises/camunda-7/call-activity/call-activity" hreflang="x-default"><link rel="stylesheet" href="/exercises/assets/css/styles.8565d999.css">
<link rel="preload" href="/exercises/assets/js/runtime~main.073ee1f0.js" as="script">
<link rel="preload" href="/exercises/assets/js/main.1f92150b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/exercises/"><img src="/exercises/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/exercises/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Camunda Exercises</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/camunda-university-meetup/exercises" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/exercises/"><img src="/exercises/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/exercises/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Camunda Exercises</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/camunda-university-meetup/exercises" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/exercises/">Intro</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Camunda 7</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/exercises/camunda-7/">Intro</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Tasks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/tasks/user-task">User Task</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Service Task</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/tasks/service-task/service-task-low-code">Serivce Task - Low-Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/tasks/service-task/service-task-coding">Service Task - Coding</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Gateways</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/gateways/exclusive-gateway">Exclusive Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/gateways/parallel-gateway">Parallel Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/gateways/inclusive-gateway">Inclusive Gateway</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/events/timer-event">Timer Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/events/message-event">Message Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/events/event-based-gateway">Event-based-Gateway</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Call Activity</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/exercises/camunda-7/call-activity/call-activity">Order Process</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Attached boundary events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/attached-boundary-events/interrupting">Interrupting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/attached-boundary-events/none-interrupting">Non-Interrupting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Instructions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-7/instructions/deploying-diagrams">Deploying diagrams</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Camunda 8</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/">Intro</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Tasks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/tasks/user-task">User Task</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/tasks/service-task">Service Task</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/events/timer-event">Timer Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/events/message-event">Message Event</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/events/event-based-gateway">Event-based-Gateway</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Call Activity</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/exercises/camunda-8/call-activity/call-activity">Order Process</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Order Process</h1></header><div class="markdown"><p>Your task is to divide the order process into different modules. The following reasons have led to the decision to restructure the process:</p><ul><li>Ensure clarity of the process for the future: there are plans to introduce different payment methods and to expand delivery with third-party service providers.</li><li>Reusability: both delivery and payment should be provided in a reusable way for future use cases.</li></ul><p>The process looks like this:</p><p><img alt="process_event" src="/exercises/assets/images/process-call-activity-dc73eb801b71365fe6e5e321dfbe07e8.png"></p><p>You can download the bpmn diagram <a target="_blank" download="order-process.bpmn" href="/exercises/assets/docs/call-activity/order-process.bpmn">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="1-create-a-delivery-process"></a>1. Create a Delivery process<a class="hash-link" href="#1-create-a-delivery-process" title="Direct link to heading">#</a></h2><p>Delivery includes the tasks <strong>Pack order</strong> and <strong>Deliver order</strong>. These are to be outsourced to a separate process.
First create a separate process and configure the process id and name.</p><p><img alt="process_event" src="/exercises/assets/images/process-delivery-3488126a4ee8b14a9638f047d6967b86.png"></p><p>Afterwards copy the two tasks. In the Modeler, you can copy an element using <code>ctrl + c</code> and paste it into another model using <code>ctrl + v</code>.</p><p><img alt="process_event" src="/exercises/assets/images/process-delivery-finished-372386b605de754ee9b0bdf8b2dd66d5.png"></p><p>In the next step, the new process is included in the parent <strong>order process</strong> as a <strong>call activity</strong>. Don&#x27;t forget to enter the id of the delivery process as a called element.</p><p><img alt="process_event" src="/exercises/assets/images/process-order-with-delivery-6dc1635b07114676a2a794e5de6b7cec.png"></p><p>Check which data the delivery process needs. Look at the defined forms in the User Tasks.
Then enter the variable as in mapping into the process. The names of the variables can be specified as <code>Source</code> and <code>Target</code>.</p><p><img alt="process_event" src="/exercises/assets/images/process-delivery-variables-366b87ad34d3843fdb8d9768dc2c5923.png"></p><p>Then test the process before moving on to the next step.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="2-create-a-payment-process"></a>2. Create a payment process<a class="hash-link" href="#2-create-a-payment-process" title="Direct link to heading">#</a></h2><p>The next step is to outsource the payment to a separate process.
To do this, first create a new process and configure the Id and name.</p><p><img alt="process_event" src="/exercises/assets/images/process-payment-0f49b7fba9c31131dfe3bed3fbb7477f.png"></p><p>After that, the event-based-gateway and the two events are transferred to the process.</p><p><img alt="process_event" src="/exercises/assets/images/process-payment-done-3db99d93b5c9c3f2ba3a0fc20af58756.png"></p><p>Now there is the problem that the two end events must be handled differently in the order process.
There are several possibilities for this:</p><ul><li>Create a variable, map it as an out variable to the order process and check it via a gateway</li><li>Throw an error that is caught as a boundary event in the order process</li></ul><p>Let&#x27;s take a closer look at the second possibility.</p><p>Modify the end event at the timeout and configure the corresponding properties:</p><p><img alt="process_event" src="/exercises/assets/images/process-payment-error-48907fd6688f571fe987bdda1dd47193.png"></p><p>Include the payment process as a call activity in the order process and attach an error boundary event.</p><p><img alt="process_event" src="/exercises/assets/images/order-process-final-deed3f3d4641e48e8065f0e104711fca.png"></p><p>Now there is one last task. How can we correlate the payment to the correct process?
For this we need to be able to specify the customer as the correlation key, for example.
But this key is not available in the payment process.
Solve this problem and run the process successfully!</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/exercises/camunda-7/events/event-based-gateway"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Event-based-Gateway</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/exercises/camunda-7/attached-boundary-events/interrupting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Interrupting Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-create-a-delivery-process" class="table-of-contents__link">1. Create a Delivery process</a></li><li><a href="#2-create-a-payment-process" class="table-of-contents__link">2. Create a payment process</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/exercises/camunda-7/instructions/deploying-diagrams">Instructions</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://forum.camunda.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Camunda Forum</a></li><li class="footer__item"><a href="https://www.meetup.com/de-DE/camunda-university-group/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Camunda University Meetup</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/camunda-community-hub" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 FlowSquad GmbH</div></div></div></footer></div>
<script src="/exercises/assets/js/runtime~main.073ee1f0.js"></script>
<script src="/exercises/assets/js/main.1f92150b.js"></script>
</body>
</html>