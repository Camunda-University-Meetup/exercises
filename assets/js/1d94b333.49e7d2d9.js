"use strict";(self.webpackChunkcamunda_exercises=self.webpackChunkcamunda_exercises||[]).push([[654],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return f}});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var i=a.createContext({}),l=function(e){var t=a.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=l(e.components);return a.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=l(r),f=n,m=d["".concat(i,".").concat(f)]||d[f]||u[f]||s;return r?a.createElement(m,o(o({ref:t},p),{},{components:r})):a.createElement(m,o({ref:t},p))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,o=new Array(s);o[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var l=2;l<s;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7394:function(e,t,r){r.r(t),r.d(t,{default:function(){return u},frontMatter:function(){return c},metadata:function(){return i},toc:function(){return l}});var a=r(7462),n=r(3366),s=(r(7294),r(3905)),o=["components"],c={sidebar_position:1},i={unversionedId:"camunda-8/call-activity/call-activity",id:"camunda-8/call-activity/call-activity",isDocsHomePage:!1,title:"Order Process",description:"Your task is to divide the order process into different modules. The following reasons have led to the decision to restructure the process:",source:"@site/docs/camunda-8/call-activity/call-activity.mdx",sourceDirName:"camunda-8/call-activity",slug:"/camunda-8/call-activity/call-activity",permalink:"/exercises/camunda-8/call-activity/call-activity",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Event-based-Gateway",permalink:"/exercises/camunda-8/events/event-based-gateway"}},l=[{value:"1. Create the Order process",id:"1-create-the-order-process",children:[]},{value:"2. Create a Delivery process",id:"2-create-a-delivery-process",children:[]},{value:"3. Create a payment process",id:"3-create-a-payment-process",children:[]}],p={toc:l};function u(e){var t=e.components,c=(0,n.Z)(e,o);return(0,s.kt)("wrapper",(0,a.Z)({},p,c,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Your task is to divide the order process into different modules. The following reasons have led to the decision to restructure the process:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Ensure clarity of the process for the future: there are plans to introduce different payment methods and to expand delivery with third-party service providers."),(0,s.kt)("li",{parentName:"ul"},"Reusability: both delivery and payment should be provided in a reusable way for future use cases.")),(0,s.kt)("p",null,"The process looks like this:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(3513).Z})),(0,s.kt)("h2",{id:"1-create-the-order-process"},"1. Create the Order process"),(0,s.kt)("p",null,"Create an order process based on the image.\nThe following information is kept as data in the process:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"customer"),(0,s.kt)("li",{parentName:"ul"},"product"),(0,s.kt)("li",{parentName:"ul"},"amount")),(0,s.kt)("p",null,'Create the appropriate forms for the user tasks.\nDon\'t forget to create a checkbox for the "Check order" that can be used for the "Order valid?" Gateway.'),(0,s.kt)("p",null,"The customer is used as correlation key when sending the payment message. Please make sure that only one process is active per customer.\nUse 1 minute as time result instead of 30 days."),(0,s.kt)("h2",{id:"2-create-a-delivery-process"},"2. Create a Delivery process"),(0,s.kt)("p",null,"Delivery includes the tasks ",(0,s.kt)("strong",{parentName:"p"},"Pack order")," and ",(0,s.kt)("strong",{parentName:"p"},"Deliver order"),". These are to be outsourced to a separate process.\nFirst create a separate process and configure the process id and name."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(9318).Z})),(0,s.kt)("p",null,"Afterwards model the two tasks and link the created forms."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(7257).Z})),(0,s.kt)("p",null,"In the next step, the new process is included in the parent ",(0,s.kt)("strong",{parentName:"p"},"order process")," as a ",(0,s.kt)("strong",{parentName:"p"},"call activity"),". Don't forget to enter the id of the delivery process as a called element."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(4038).Z})),(0,s.kt)("h2",{id:"3-create-a-payment-process"},"3. Create a payment process"),(0,s.kt)("p",null,"The next step is to outsource the payment to a separate process.\nTo do this, first create a new process and configure the Id and name."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(1532).Z})),(0,s.kt)("p",null,"After that, the event-based-gateway and the two events are transferred to the process."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(2559).Z})),(0,s.kt)("p",null,"Now there is the problem that the two end events must be handled differently in the order process.\nThere are several possibilities for this:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Create a variable, map it as an out variable to the order process and check it via a gateway"),(0,s.kt)("li",{parentName:"ul"},"Throw an error that is caught as a boundary event in the order process")),(0,s.kt)("p",null,"Let's take a closer look at the second possibility."),(0,s.kt)("p",null,"Modify the end event at the timeout and configure the corresponding properties:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(4090).Z})),(0,s.kt)("p",null,"Include the payment process as a call activity in the order process and attach an error boundary event.\nCreate an error and use the same name and code."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"process_event",src:r(6938).Z})),(0,s.kt)("p",null,"Now there is one last task. How can we correlate the payment to the correct process?\nFor this we need to be able to specify the customer as the correlation key, for example.\nBut this key is not available in the payment process.\nSolve this problem and run the process successfully!"))}u.isMDXComponent=!0},6938:function(e,t,r){t.Z=r.p+"assets/images/order-process-final-deed3f3d4641e48e8065f0e104711fca.png"},3513:function(e,t,r){t.Z=r.p+"assets/images/process-call-activity-dc73eb801b71365fe6e5e321dfbe07e8.png"},7257:function(e,t,r){t.Z=r.p+"assets/images/process-delivery-finished-372386b605de754ee9b0bdf8b2dd66d5.png"},2559:function(e,t,r){t.Z=r.p+"assets/images/process-payment-done-3db99d93b5c9c3f2ba3a0fc20af58756.png"},9318:function(e,t,r){t.Z=r.p+"assets/images/deliver-process-6dafbc325e215a115375960607f43788.png"},4038:function(e,t,r){t.Z=r.p+"assets/images/include-call-activity-6a87380f7142bd16f4bafd8781cecbf9.png"},1532:function(e,t,r){t.Z=r.p+"assets/images/payment-process-9f7e1e6ef9055541ca7f13f247ecc61c.png"},4090:function(e,t,r){t.Z=r.p+"assets/images/payment-timeout-c2e2832cba5e64cd66ea9282c95388fd.png"}}]);